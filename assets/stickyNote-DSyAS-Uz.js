import{d as Y,r as d,c as $,o as A,a as B,b as u,e as r,f as M,g as F,F as L,h as V,t as w,w as D,T as G,i as v,n as O,j as R,k as U,_ as j}from"./index-B078WTpy.js";const P={id:"container"},q={key:0,class:"hint-overlay"},J={class:"hint-text"},K={class:"big-card"},Q={class:"card-text"},h=180,Z=Y({__name:"stickyNote",setup(tt){const m=["好好爱自己","期待下次见面","顺顺利利","保持好心情","早点休息","多喝热水","你是最棒的","未来可期","梦想成真","元气满满","生活明朗","记得吃早餐","天天开心","好运连连","万事胜意","平安喜乐","心想事成","不负韶华","工作顺利"],s=d([]),n=d("forming"),p=d(!1),_=d(""),f=d(!1),C=$(()=>n.value==="waiting"?"点击屏幕，开启惊喜 ✨":"点击抽取专属卡片 ✨"),k=()=>{const e=[];for(let a=0;a<h;a++){const t=a%2!==0,i=t?window.innerWidth+300:-300,c=Math.random()*window.innerHeight;e.push({message:m[a%m.length],colorClass:`c${a%4+1}`,x:i,y:c,rotate:t?90:-90,zIndex:a,opacity:0,transition:"none"})}s.value=e},z=()=>{const e=window.innerWidth,a=window.innerHeight,t=Math.min(e*.85,a*.65)/32,i=e/2,c=a/2-t*1.5,I=1e4/h;s.value.forEach((at,o)=>{setTimeout(()=>{const l=o/h*2*Math.PI,g=16*Math.pow(Math.sin(l),3),H=-(13*Math.cos(l)-5*Math.cos(2*l)-2*Math.cos(3*l)-Math.cos(4*l)),x=e<768,N=x?90:125,S=x?48:65,W=i+g*t-N/2,X=c+H*t-S/2;let y=g*1.1;Math.abs(g)<1.5&&(y=0),s.value[o].opacity=1,s.value[o].transition="transform 2.5s cubic-bezier(0.165, 0.84, 0.44, 1), opacity 0.8s ease",s.value[o].x=W,s.value[o].y=X,s.value[o].rotate=y,s.value[o].zIndex=o,o===h-1&&setTimeout(()=>{n.value="waiting",f.value=!0},2500)},o*I)})},b=()=>{n.value="exploding",f.value=!1,s.value.forEach((e,a)=>{const t=Math.random()*(window.innerWidth+200)-200,i=Math.random()*(window.innerHeight+200)-200,c=(Math.random()-.5)*120;e.transition="transform 1.2s cubic-bezier(0.22, 1, 0.36, 1)",e.x=t,e.y=i,e.rotate=c,e.zIndex=Math.floor(Math.random()*h)}),setTimeout(()=>{n.value="exploded",f.value=!0},1200)},T=()=>{n.value==="waiting"?b():n.value==="exploded"&&(_.value=m[Math.floor(Math.random()*m.length)],p.value=!0)},E=()=>{p.value=!1};return A(()=>{k(),z(),window.addEventListener("resize",()=>{n.value==="forming"&&location.reload()})}),B(()=>{window.removeEventListener("resize",()=>{})}),(e,a)=>(v(),u("div",{class:"heart-wall-container",onClick:T},[r("div",P,[(v(!0),u(L,null,V(s.value,(t,i)=>(v(),u("div",{key:i,class:R(["card",t.colorClass]),style:O({transform:`translate3d(${t.x}px, ${t.y}px, 0) rotate(${t.rotate}deg)`,zIndex:t.zIndex,opacity:t.opacity,transition:t.transition})},[r("span",null,w(t.message),1)],6))),128))]),f.value?(v(),u("div",q,[r("div",J,w(C.value),1)])):M("",!0),F(G,{name:"fade"},{default:D(()=>[p.value?(v(),u("div",{key:0,class:"overlay",onClick:U(E,["stop"])},[r("div",K,[a[0]||(a[0]=r("div",{class:"card-icon"},"❤",-1)),r("div",Q,w(_.value),1)])])):M("",!0)]),_:1})]))}}),ot=j(Z,[["__scopeId","data-v-79041261"]]);export{ot as default};
